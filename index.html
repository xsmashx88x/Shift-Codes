<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="shortcut icon" type="image/png" href="https://xsmashx88x.github.io/Shift-Codes/smashfavicon.png">
    <link rel="icon" type="image/png" href="https://xsmashx88x.github.io/Shift-Codes/smashfavicon.png">
    <div class="scrolling-banner">
        <div class="scrolling-text">• FAV AND CHECK BACK DAILY<br> (Refresh Page Every Once In Awhile)<br>• Any Issues Contact Me Via Links Below •</div>
    </div>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SHiFT Codes - Borderlands Style</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@400;600;700&display=swap');
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Chakra Petch', sans-serif;
            text-align: center;
            padding: 20px;
            background: #2c1b2d;
            color: #fff;
            min-height: 100vh;
            background-image: 
                radial-gradient(circle at 20% 30%, #3d2942 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, #482c4d 0%, transparent 50%);
        }
        
        .container {
            max-width: 650px;
            margin: 0 auto;
            background: rgba(35, 25, 40, 0.9);
            padding: 25px;
            border-radius: 5px;
            box-shadow: 0 0 15px rgba(255, 198, 0, 0.4);
            border: 2px solid #ffc600;
            position: relative;
            overflow: hidden;
        }
        
        .container:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #ffc600, #ff7c00, #ffc600);
            box-shadow: 0 0 10px #ffc600;
        }
        
        h1 {
            color: #ffc600;
            margin-bottom: 15px;
            font-size: 36px;
            text-transform: uppercase;
            letter-spacing: 2px;
            text-shadow: 2px 2px 0 #000, 0 0 10px rgba(255, 198, 0, 0.7);
            font-weight: 700;
        }
        
        h2 {
            color: #ffc600;
            margin: 25px 0 12px 0;
            padding-bottom: 8px;
            border-bottom: 2px solid #ff7c00;
            font-size: 22px;
            text-transform: uppercase;
            letter-spacing: 1px;
            text-shadow: 1px 1px 0 #000;
        }
        
        /* Social links styling */
        .social-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 15px 0 25px 0;
            flex-wrap: wrap;
        }
        
        .social-links a {
            color: #ffc600;
            text-decoration: none;
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.3s;
            text-shadow: 1px 1px 0 #000;
            padding: 8px 12px;
            border-radius: 4px;
            background: rgba(20, 15, 25, 0.7);
            border: 1px solid #ff7c00;
        }
        
        .social-links a:hover {
            color: #ff7c00;
            text-shadow: 0 0 5px #ff7c00;
            background: rgba(255, 124, 0, 0.2);
            transform: translateY(-2px);
        }
        
.code-box {
    background: linear-gradient(135deg, #3A2A1A, #5C3C10); /* ← CHANGE THIS */
    color: white;
    padding: 15px;
    margin: 15px 0;
    border-radius: 4px;
    text-align: left;
    transition: transform 0.2s;
    border: 2px solid #D4A017; /* ← CHANGE THIS */
    box-shadow: 0 0 8px rgba(212, 160, 23, 0.3); /* ← CHANGE THIS */
    position: relative;
}

.code-box:hover {
    transform: translateY(-3px);
    box-shadow: 0 0 12px rgba(255, 179, 71, 0.5); /* ← CHANGE THIS */
}
       
        .permanent-code-box {
            background: linear-gradient(135deg, #1b3b6a 0%, #0f2552 100%);
            color: white;
            padding: 12px 15px;
            margin: 10px 0;
            border-radius: 4px;
            text-align: left;
            transition: transform 0.2s;
            border: 1px solid #4a90e2;
            box-shadow: 0 0 4px rgba(74, 144, 226, 0.4);
            position: relative;
        }
        
        .permanent-code-box:hover {
            transform: translateY(-1px);
            box-shadow: 0 0 6px rgba(74, 144, 226, 0.6);
        }
        
        .expired-code-box {
            background: linear-gradient(135deg, #5a2c2c 0%, #3a1c1c 100%);
            color: #ff9999;
            padding: 15px;
            margin: 12px 0;
            border-radius: 4px;
            text-align: left;
            border: 2px solid #ff4444;
            box-shadow: 0 0 5px rgba(255, 68, 68, 0.3);
            position: relative;
        }
        
        .expired-code-box .code-text {
            color: #ff6666;
            text-shadow: 1px 1px 0 #400000;
        }
        
        .expired-code-box .title-container {
            color: #ff9999;
        }
        
        .expired-code-box .expire-date {
            color: #ffaaaa;
        }
        
        .expired-code-box.redeemed {
            background: linear-gradient(135deg, #2c5a2c 0%, #1c3a1c 100%);
            border: 2px solid #44ff44;
            box-shadow: 0 0 5px rgba(68, 255, 68, 0.3);
        }
        
        .expired-code-box.redeemed .code-text {
            color: #7cff7c !important;
            text-shadow: 1px 1px 0 #004000;
        }
        
        .expired-code-box.redeemed .title-container {
            color: #9eff9e;
        }
        
        .expired-code-box.redeemed .expire-date {
            color: #aaffaa;
        }
        
        .code-text {
            font-family: 'Courier New', monospace;
            font-size: 18px;
            font-weight: bold;
            margin: 12px 0;
            word-break: break-all;
            letter-spacing: 1px;
            color: #ffc600;
            text-shadow: 1px 1px 0 #000;
        }
        
        .permanent-code-text {
            font-family: 'Courier New', monospace;
            font-size: 14px;
            font-weight: bold;
            margin: 0 0 4px 0;
            word-break: break-all;
            letter-spacing: 0.5px;
            color: #ffc600;
            text-shadow: 1px 1px 0 #000, 0 0 5px rgba(255, 198, 0, 0.7);
            line-height: 1.2;
        }
        
        .code-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 10px;
            padding-top: 8px;
            border-top: 1px solid rgba(255, 198, 0, 0.3);
        }
        
        .permanent-code-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 8px;
            padding-top: 5px;
            border-top: 1px solid rgba(107, 168, 255, 0.3);
        }
        
        .small-copy-btn {
            background: linear-gradient(to bottom, #ff7c00, #e56a00);
            border: 1px solid #ffc600;
            color: #fff;
            padding: 6px 12px;
            border-radius: 3px;
            cursor: pointer;
            font-weight: bold;
            margin: 0;
            transition: all 0.3s;
            font-size: 12px;
            text-transform: uppercase;
            font-family: 'Chakra Petch', sans-serif;
            text-shadow: 1px 1px 0 #000;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
            order: 2;
        }
        
        .small-copy-btn:hover {
            background: linear-gradient(to bottom, #ff8c00, #ff6a00);
            transform: scale(1.05);
            box-shadow: 0 0 6px #ffc600;
        }
        
        .permanent-copy-btn {
            background: linear-gradient(to bottom, #4a90e2, #2a70c2);
            border: 1px solid #6ba8ff;
            color: #fff;
            padding: 6px 12px;
            border-radius: 3px;
            cursor: pointer;
            font-weight: bold;
            margin: 0;
            transition: all 0.3s;
            font-size: 12px;
            text-transform: uppercase;
            font-family: 'Chakra Petch', sans-serif;
            text-shadow: 1px 1px 0 #000;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
            order: 2;
        }
        
        .permanent-copy-btn:hover {
            background: linear-gradient(to bottom, #5aa0ff, #3a80e2);
            transform: scale(1.05);
            box-shadow: 0 0 4px #6ba8ff;
        }
        
        .countdown {
            font-size: 14px;
            font-weight: bold;
            color: #ff7c00;
            margin: 8px 0;
            padding: 4px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 4px;
            text-shadow: 1px 1px 0 #000;
            border: 1px solid #ff7c00;
        }
        
        .expire-date {
            font-size: 13px;
            color: #ff9e40;
            margin: 4px 0;
            font-style: italic;
            text-shadow: 1px 1px 0 #000;
        }
        
        .permanent-text {
            font-size: 10px;
            color: #6ba8ff;
            margin: 0;
            font-weight: bold;
            text-shadow: 1px 1px 0 #000, 0 0 3px rgba(107, 168, 255, 0.5);
            display: inline-block;
        }
        
        .copied-message {
            color: #7cff7c;
            font-weight: bold;
            display: none;
            margin-left: 5px;
            font-size: 11px;
            text-shadow: 1px 1px 0 #000;
            order: 3;
        }
        
        .permanent-copied-message {
            color: #7cff7c;
            font-weight: bold;
            display: none;
            margin-left: 5px;
            font-size: 11px;
            text-shadow: 1px 1px 0 #000;
            order: 3;
        }
        
        .rewards-link {
            display: inline-block;
            background: linear-gradient(to bottom, #ff7c00, #e56a00);
            color: white;
            padding: 12px 24px;
            text-decoration: none;
            border-radius: 4px;
            margin: 8px 0 15px 0;
            font-weight: bold;
            transition: all 0.3s;
            font-size: 16px;
            text-transform: uppercase;
            border: 2px solid #ffc600;
            text-shadow: 1px 1px 0 #000;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.5);
            font-family: 'Chakra Petch', sans-serif;
        }
        
        .rewards-link:hover {
            background: linear-gradient(to bottom, #ff8c00, #ff6a00);
            transform: scale(1.05);
            box-shadow: 0 0 10px #ffc600;
        }
        
        /* BUTTONS SIDE BY SIDE */
        .info-button {
            background: linear-gradient(to bottom, #4a4a4a, #2a2a2a);
            color: white;
            padding: 12px 20px;
            border-radius: 4px;
            margin: 0;
            font-weight: bold;
            transition: all 0.3s;
            font-size: 14px;
            text-transform: uppercase;
            border: 2px solid #888;
            text-shadow: 1px 1px 0 #000;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.5);
            font-family: 'Chakra Petch', sans-serif;
            cursor: pointer;
            display: inline-block;
            width: auto;
            flex: 1;
            min-width: 0;
        }

        /* Container for the button row */
        .button-row {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }

        .info-button:hover {
            background: linear-gradient(to bottom, #5a5a5a, #3a3a3a);
            transform: scale(1.05);
            box-shadow: 0 0 8px rgba(255, 255, 255, 0.3);
        }

        /* First button (INFO & FAQ) - Gray */
        .info-button:nth-of-type(1) {
            background: linear-gradient(to bottom, #4a4a4a, #2a2a2a);
            border: 2px solid #888;
        }

        .info-button:nth-of-type(1):hover {
            background: linear-gradient(to bottom, #5a5a5a, #3a3a3a);
            box-shadow: 0 0 8px rgba(255, 255, 255, 0.3);
        }

        /* Second button (CHANGE LOG) - Gray */
        .info-button:nth-of-type(2) {
            background: linear-gradient(to bottom, #6c757d, #495057);
            border: 2px solid #adb5bd;
        }

        .info-button:nth-of-type(2):hover {
            background: linear-gradient(to bottom, #5a6268, #495057);
            box-shadow: 0 0 8px #adb5bd;
        }

        /* Third button (HOW TO REDEEM) - Green-blue */
        .info-button:nth-of-type(3) {
            background: linear-gradient(to bottom, #00aa00, #0055aa);
            border: 2px solid #00ccff;
        }

        .info-button:nth-of-type(3):hover {
            background: linear-gradient(to bottom, #00cc00, #0077cc);
            box-shadow: 0 0 8px #00ccff;
        }

        /* Responsive design for mobile */
        @media (max-width: 768px) {
            .button-row {
                flex-direction: column;
                align-items: center;
            }
            
            .info-button {
                width: 100%;
                max-width: 300px;
                margin-bottom: 10px;
            }
        }
        
        .collapse-btn {
            background: linear-gradient(to bottom, #555, #333);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            margin: 8px 0;
            transition: all 0.3s;
            font-size: 14px;
            text-transform: uppercase;
            border: 1px solid #666;
            text-shadow: 1px 1px 0 #000;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
            font-family: 'Chakra Petch', sans-serif;
        }
        
        .collapse-btn:hover {
            background: linear-gradient(to bottom, #666, #444);
            transform: scale(1.05);
            box-shadow: 0 0 8px rgba(255, 255, 255, 0.2);
        }
        
        .collapse-btn-Perm {
            background: linear-gradient(to bottom, #f70, #A0F);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            margin: 8px 0;
            transition: all 0.3s;
            font-size: 14px;
            text-transform: uppercase;
            border: 1px solid #666;
            text-shadow: 1px 1px 0 #000;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
            font-family: 'Chakra Petch', sans-serif;
        }
        
        .collapse-btn-Perm:hover {
            background: linear-gradient(to bottom, #F90, #A4F);
            transform: scale(1.05);
            box-shadow: 0 0 8px rgba(255, 255, 255, 0.2);
        }       
        
/* Only when permanent section is visible (has 'show' class) */
#permanent-section.show .permanent-code-box {
    background: linear-gradient(135deg, #451565, #652200);
    border: 1px solid #F90;
    box-shadow: 0 0 6px rgba(255, 153, 0, 0.6);
}

#permanent-section.show .permanent-code-box:hover {
    background: linear-gradient(135deg, #552575, #753300);
    border: 1px solid #FF6;
    box-shadow: 0 0 8px rgba(255, 255, 102, 0.8);
}

#permanent-section.show .permanent-code-text {
    color: #fff;
    text-shadow: 2px 2px 0 #000, 0 0 10px rgba(255, 255, 255, 1);
    font-weight: bold;
}

#permanent-section.show .permanent-title-container {
    color: #FFC;
    text-shadow: 2px 2px 0 #000, 0 0 5px #000;
    font-weight: bold;
}
        
        .expired-section, .permanent-section, .info-section {
            display: none;
            margin-top: 8px;
        }
        
        .expired-section.show, .permanent-section.show, .info-section.show {
            display: block;
        }
        
        .title-container {
            font-size: 14px;
            color: #ff9e40;
            margin-bottom: 8px;
            min-height: 18px;
            text-shadow: 1px 1px 0 #000;
        }
        
        .permanent-title-container {
            font-size: 11px;
            color: #ffc600;
            margin: 0 0 2px 0;
            min-height: 12px;
            text-shadow: 1px 1px 0 #000;
            line-height: 1.2;
            text-align: left;
        }
        
        .title-container a, .permanent-title-container a {
            color: #ffc600;
            text-decoration: underline;
            text-shadow: 1px 1px 0 #000;
            font-weight: bold;
        }
        
        .title-container a:hover, .permanent-title-container a:hover {
            color: #ff7c00;
        }
        
        .code-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
        }
        
        .permanent-code-header {
            display: flex;
            align-items: center;
            gap: 6px;
            margin-bottom: 2px;
        }
        
        .key-icon {
            font-size: 18px;
            color: #ffc600;
            text-shadow: 1px 1px 0 #000;
        }
        
        .permanent-key-icon {
            font-size: 12px;
            color: #6ba8ff;
            text-shadow: 1px 1px 0 #000, 0 0 3px rgba(107, 168, 255, 0.5);
        }
        
        .custom-icon {
            width: 16px;
            height: 16px;
            object-fit: contain;
            vertical-align: middle;
        }
        
        .permanent-custom-icon {
            width: 12px;
            height: 12px;
            object-fit: contain;
            vertical-align: middle;
        }
        
        .vault-symbol {
            font-size: 24px;
            margin-right: 10px;
            color: #ffc600;
            text-shadow: 1px 1px 0 #000, 0 0 5px rgba(255, 198, 0, 0.5);
        }
        
        .scanlines {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            background: linear-gradient(to bottom, 
                rgba(255, 255, 255, 0.03) 50%, 
                rgba(0, 0, 0, 0.1) 50%);
            background-size: 100% 4px;
            z-index: 999;
            opacity: 0.2;
        }
        
        .noise {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200'​【𝟲𝟭 𝗺】 xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65'​【𝟮𝟬 𝗰𝗺】 numOctaves='3'​【𝟵𝟭 𝗰𝗺】 stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25'​【𝟳,𝟲 𝗺】 height='100%25'​【𝟳,𝟲 𝗺】 filter='url(%23noiseFilter)' opacity='0.05'/​【𝟮 𝗰𝗺】%3E%3C/svg%3E");
            z-index: 998;
            opacity: 0.1;
        }
        
        .no-codes {
            color: #ff9e40;
            padding: 20px;
            text-shadow: 1px 1px 0 #000;
        }
        
        .clearfix::after {
            content: "";
            clear: both;
            display: table;
        }
        
        .redeem-checkbox {
            display: flex;
            align-items: center;
            margin: 0;
            order: 1;
        }
        
        .redeem-checkbox input[type="checkbox"] {
            appearance: none;
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            border: 2px solid #ffc600;
            border-radius: 3px;
            background: rgba(0, 0, 0, 0.3);
            position: relative;
            cursor: pointer;
            margin-right: 8px;
        }
        
        .redeem-checkbox input[type="checkbox"]:checked::before {
            content: "✓";
            position: absolute;
            color: #ffc600;
            font-size: 14px;
            font-weight: bold;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-shadow: 0 0 3px #000;
        }
        
        .redeem-checkbox label {
            color: #ffc600;
            font-size: 14px;
            cursor: pointer;
            text-shadow: 1px 1px 0 #000;
        }
        
        .redeemed {
            opacity: 0.7;
            position: relative;
        }
        
        .redeemed::after {
            content: "REDEEMED";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(-15deg);
            font-size: 24px;
            font-weight: bold;
            color: #7cff7c;
            text-shadow: 2px 2px 0 #000, 0 0 10px rgba(124, 255, 124, 0.7);
            z-index: 10;
            pointer-events: none;
        }
        
        .redeemed .code-text {
            color: #7cff7c !important;
        }
        
        .permanent-redeemed {
            opacity: 0.7;
            position: relative;
        }
        
        .permanent-redeemed::after {
            content: "REDEEMED";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(-15deg);
            font-size: 16px;
            font-weight: bold;
            color: #7cff7c;
            text-shadow: 2px 2px 0 #000, 0 0 10px rgba(124, 255, 124, 0.7);
            z-index: 10;
            pointer-events: none;
        }
        
        .permanent-redeemed .permanent-code-text {
            color: #7cff7c !important;
        }
        
        .expired-text {
            color: #ff4444;
            font-weight: bold;
            margin-top: 8px;
            font-size: 13px;
            text-shadow: 1px 1px 0 #400000;
        }
        
        .info-content {
            background: linear-gradient(to bottom, #555, #333);
            color: white;
            padding: 15px;
            margin: 8px 0;
            border-radius: 4px;
            text-align: left;
            border: 1px solid #666;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .info-content p {
            margin-bottom: 10px;
            line-height: 1.5;
        }
        
        .info-content ul, .info-content ol {
            margin-left: 20px;
            margin-bottom: 10px;
        }
        
        .info-content li {
            margin-bottom: 5px;
        }
        
        .info-content a {
            color: #ffc600;
            text-decoration: underline;
            text-shadow: 1px 1px 0 #000;
        }
        
        .info-content a:hover {
            color: #ff7c00;
        }
        
        @media (max-width: 600px) {
            .social-links {
                gap: 10px;
            }
            
            .social-links a {
                font-size: 14px;
                padding: 6px 10px;
            }
        }
        .title-bar {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 15px 25px;
    background: rgba(0, 0, 0, 0.7);
    border-radius: 15px;
    margin-bottom: 15px;
    border: 2px solid #ffc600;
}

.title-text {
    color: #ffc600;
    font-size: 24px;
    font-weight: bold;
    text-shadow: 2px 2px 0 #000, 0 0 10px rgba(255, 198, 0, 0.7);
}

.icon {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    object-fit: cover;
    border: 2px solid #ffc600;
}

.preview-btn {
    background: linear-gradient(to bottom, #4a90e2, #2a70c2);
    border: 1px solid #6ba8ff;
    color: #fff;
    padding: 6px 12px;
    border-radius: 3px;
    cursor: pointer;
    font-weight: bold;
    margin: 0;
    transition: all 0.3s;
    font-size: 12px;
    text-transform: uppercase;
    font-family: 'Chakra Petch', sans-serif;
    text-shadow: 1px 1px 0 #000;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

.preview-btn:hover {
    background: linear-gradient(to bottom, #5aa0ff, #3a80e2);
    transform: scale(1.05);
    box-shadow: 0 0 4px #6ba8ff;
}

.image-preview-modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.9);
    z-index: 1000;
    justify-content: center;
    align-items: center;
}

.image-preview-content {
    max-width: 90%;
    max-height: 90%;
    position: relative;
}

.image-preview-content img {
    max-width: 100%;
    max-height: 90vh;
    border: 3px solid #ffc600;
    border-radius: 5px;
}

.close-preview {
    position: absolute;
    top: -15px;
    right: -15px;
    background: #ff4444;
    color: white;
    border: none;
    border-radius: 50%;
    width: 30px;
    height: 30px;
    font-size: 20px;
    cursor: pointer;
    font-weight: bold;
}

/* Info content sections */
#info-section .info-content {
    background: linear-gradient(to bottom, #555, #333);
    border: 2px solid #888;
    color: white;
}

#changelog-section .info-content {
    background: linear-gradient(to bottom, #6c757d, #495057);
    border: 2px solid #adb5bd;
    color: white;
}

#changelog-section .info-content a {
    color: #e9ecef;
    text-shadow: 0 0 5px #e9ecef;
}

#changelog-section .info-content a:hover {
    color: #ffffff;
}

#redeem-section .info-content {
    background: linear-gradient(to bottom, #00aa00, #0055aa);
    border: 2px solid #00ccff;
    color: white;
}

#redeem-section .info-content a {
    color: #00ffff;
    text-shadow: 0 0 5px #00ffff;
}

#redeem-section .info-content a:hover {
    color: #ffffff;
}

    </style>
</head>
<div id="image-preview-modal" class="image-preview-modal">
    <div class="image-preview-content">
        <button class="close-preview" onclick="closeImagePreview()">×</button>
        <img id="preview-image" src="" alt="Preview">
    </div>
</div>
<body>
    <div class="noise"></div>
    <div class="scanlines"></div>
    
    <div class="container">
<div class="title-bar">
    <img src="https://raw.githubusercontent.com/xsmashx88x/Shift-Codes/refs/heads/gh-pages/blkey50.png" alt="Left Icon" class="icon">
    <div class="title-text">SHiFT Codes</div>
    <img src="https://raw.githubusercontent.com/xsmashx88x/Shift-Codes/refs/heads/gh-pages/blkey50.png" alt="Right Icon" class="icon">
</div>
        
        <div class="social-links">
            <a href="https://x.com/xsmashx88x" target="_blank">🐦 Twitter</a>
            <a href="https://discord.com/users/97484502628052992" target="_blank">💬 Discord</a>
            <a href="https://www.reddit.com/user/smashcanuckgamer/" target="_blank">👾 Reddit</a>
        </div>

<button class="info-button" onclick="toggleInfo('info-section')">
    📖 Info & F.A.Q
</button>

<div id="info-section" class="info-section">
    <div class="info-content">
        <p><strong>MSG To People Thinking I Want Followers/Money (I Don't) SMFH</strong></p>
        <ul>
            <li><i>This was not done for followers or fame, its to help people, it sucks to be reported on reddit/fb an few other places :(</i></li>
            <li><i>Some have wanted to donate/tip, sadly I can't don't wanna deal with chargebacks if I am a few mins last on posting codes :(</i></li>            
        </ul>
        <p><strong>F.A.Q</strong></p>
        <ul>
            <li><b>Why Was This Made :</b> <i>For peeps to know if codes are expired and be able to copy them more easy via the button</i></li>
            <li><b>How are codes put here? :</b> <i>All me, I watch randy's twitter or see them around the net and add them, No auto grab system here</i></li>            
        </ul>
        <p><strong>PSA</strong></p>
        <ul>
            <li><b>Gold Keys On Multi Systems :</b><i>if linked multi systems can redeem on each :) from what I hear</i></li>
        </ul>
    </div>
</div>

<button class="info-button" onclick="toggleInfo('changelog-section')">
    📋 Change Log
</button>

<div id="changelog-section" class="info-section">
    <div class="info-content">
        <p><strong>Change Log | Last Updated : 9/24/2025</strong></p>
        <ul>
            <li><b>9/24/2025:</b> Fixed time issues</li>            
            <li><b>9/24/2025:</b> Fixed refresh issue on Android/some browsers</li>
            <li><b>9/23/2025:</b> Added "Mark as redeemed" feature with local storage</li>
            <li><b>9/22/2025:</b> Added preview button for image rewards</li>
            <li><b>9/21/2025:</b> Improved countdown timer functionality</li>
            <li><b>9/20/2025:</b> Added permanent/unknown expiration codes section</li>
            <li><b>9/19/2025:</b> Initial website launch with basic functionality</li>
        </ul>
    </div>
</div>

<button class="info-button redeem-button" onclick="toggleInfo('redeem-section')">
    📖 How To Redeem On Console
</button>

<div id="redeem-section" class="info-section">
    <div class="info-content">
        <p><strong>In-Game</strong></p>
        <ol>
            <li>Open the Pause Menu while in-game Or On Main Menu</li>
            <li>Click "SHiFT"</li>
            <li>Click "Rewards"</li>
            <li>Enter codes and redeem them</li>
        </ol>
        <p><strong>Online</strong></p>
        <p>CLICK THAT BUTTON BELOW AND WILL OPEN THE SHIFT REDEEM SITE</p>
    </div>
</div>

        <div>
<a href="https://shift.gearboxsoftware.com/rewards" target="_blank" class="rewards-link">
                🔗 Redeem Codes | SHiFT.Gearbox | Click Me
            </a>
        </div>

        <button class="collapse-btn-Perm" onclick="togglePermanent()">
            🎁 [View] Drops + Limited Time Codes + More
        </button>
        
        <div id="permanent-section" class="permanent-section">
            <h2>🎁 Drops + Limited Time Codes + More</h2>
            <div id="permanent-codes-container">
                <!-- Permanent codes will be inserted here by JavaScript -->
            </div>
        </div>

        <h2>✅ Active BL4 Codes (New At Top)</h2>
        <div id="active-codes-container">
            <!-- Active codes will be inserted here by JavaScript -->
        </div>

        <button class="collapse-btn" onclick="toggleExpired()">
            ❌ Expired Codes
        </button>
        
        <div id="expired-section" class="expired-section">
            <h2>❌ Expired Codes</h2>
            <div id="expired-codes-container">
                <!-- Expired codes will be inserted here by JavaScript -->
            </div>
        </div>
    </div>

    <script>
        // ==================== 12-HOUR FORMAT HELPER ====================
        function createDate(year, month, day, hour, minute, second, isPM) {
            // Convert 12-hour format to 24-hour format
            let hour24 = hour;
            if (isPM && hour < 12) {
                hour24 = hour + 12;
            } else if (!isPM && hour === 12) {
                hour24 = 0; // 12 AM = 0 hours
            }
            // Month is 0-indexed in JavaScript (0=January, 11=December)
            return new Date(year, month - 1, day, hour24, minute, second);
        }

        // ==================== CONFIGURATION ====================
        const ALL_CODES_CONFIG = [
            {
                code: "BHRBJ-ZWHT3-W6JBK-BT3BB-CW3ZK",
                expires: createDate(2025, 9, 26, 4, 19, 0, 1), // 4:19 PM
                title: '1 : Gold Key - <a href="https://x.com/DuvalMagic/status/1970946292131188745" target="_blank">From Twitter</a> | Added 9/24/2025 ',
                icon: "https://raw.githubusercontent.com/xsmashx88x/Shift-Codes/refs/heads/gh-pages/blkey50.png",
                showCopyButton: true
            },
            {
                code: "JSX3J-B6SBJ-CXTBC-B3T3B-BZZZT",
                expires: createDate(2025, 9, 26, 4, 19, 0, 1), // 4:19 PM
                title: '1 : Gold Key - <a href="https://x.com/DuvalMagic/status/1970946292131188745" target="_blank">From Twitter</a> | Added 9/24/2025 ',
                icon: "https://raw.githubusercontent.com/xsmashx88x/Shift-Codes/refs/heads/gh-pages/blkey50.png"
            },
                        {
                code: "BHFJ3-WXHBB-W63JK-B33B3-5HX95",
                expires: createDate(2025, 9, 26, 4, 19, 0, 1), // 4:19 PM
                title: '1 : Gold Key- <a href="https://x.com/DuvalMagic/status/1970946292131188745" target="_blank">From Twitter </a> | Added 9/24/2025 ',
                icon: "https://raw.githubusercontent.com/xsmashx88x/Shift-Codes/refs/heads/gh-pages/blkey50.png"
            },
            {
                code: "J9XBB-KK9T3-CRTBW-BBT3T-KTBTW",
                expires: createDate(2025, 9, 24, 12, 28, 0, 1), // 12:28 PM
                title: '1 : Gold Key - <a href="https://x.com/DuvalMagic/status/1970163226441547832" target="_blank">From Twitter</a>',
                icon: "https://raw.githubusercontent.com/xsmashx88x/Shift-Codes/refs/heads/gh-pages/blkey50.png",
                showCopyButton: true
            },
            {
                code: "JHFTJ-R5HBT-KF3TK-TBJT3-JJTHH",
                expires: createDate(2025, 9, 24, 12, 28, 0, 1), // 12:28 PM
                title: '1 : Gold Key - <a href="https://x.com/DuvalMagic/status/1970163226441547832" target="_blank">From Twitter</a>',
                icon: "https://raw.githubusercontent.com/xsmashx88x/Shift-Codes/refs/heads/gh-pages/blkey50.png"
            },
            {
                code: "T9RJB-BFKRR-3RBTW-B33TB-KCZB9",
                expires: new Date(2025, 9, 1),
                title: '1 : Gold Key',
                icon: "https://raw.githubusercontent.com/xsmashx88x/Shift-Codes/refs/heads/gh-pages/blkey50.png"
            },
            {
                code: "THRBT-WW6CB-56TB5-3B3BJ-XBW3X",
                expires: new Date(2025, 8, 30),
                title: '1 : Gold Key',
                icon: "https://raw.githubusercontent.com/xsmashx88x/Shift-Codes/refs/heads/gh-pages/blkey50.png"
            },
            {
                code: "3H63J-Z3S3J-KR3BK-BTJ33-ZWKTK",
                expires: createDate(2025, 9, 22, 12, 36, 0, 1), // 12:36 PM
                title: '1 : Gold Key - <a href="https://x.com/DuvalMagic/status/1969440522528792653" target="_blank">From Twitter</a>',
                icon: "https://raw.githubusercontent.com/xsmashx88x/Shift-Codes/refs/heads/gh-pages/blkey50.png"
            },
            {
                code: "TSR3B-J5S3T-KRBJW-BTTBJ-JRCXX",
                expires: createDate(2025, 9, 22, 12, 36, 0, 1), // 12:36 PM
                title: '1 : Gold Key - <a href="https://x.com/DuvalMagic/status/1969440522528792653" target="_blank">From Twitter</a>',
                icon: "https://raw.githubusercontent.com/xsmashx88x/Shift-Codes/refs/heads/gh-pages/blkey50.png"
            },
            {
                code: "3ZXJB-53STT-56T3W-B3TT3-HTS95",
                expires: createDate(2025, 9, 21, 11, 58, 1, 1), // 11:58 AM
                title: '1 : Gold Key - <a href="https://x.com/DuvalMagic/status/1969068501215170641" target="_blank">From Twitter</a>',
                icon: "https://raw.githubusercontent.com/xsmashx88x/Shift-Codes/refs/heads/gh-pages/blkey50.png"
            },
            {
                code: "BSRT3-FTZBJ-K6BTW-JB3T3-WXT99",
                expires: createDate(2025, 9, 21, 11, 58, 1, 1), // 11:58 AM
                title: '1 : Gold Key - <a href="https://x.com/DuvalMagic/status/1969068501215170641" target="_blank">From Twitter</a>',
                icon: "https://raw.githubusercontent.com/xsmashx88x/Shift-Codes/refs/heads/gh-pages/blkey50.png"
            },
            {
                code: "B9XT3-HX6TT-W6BBW-TTJT3-JTFKX",
                expires: new Date(2025, 8, 10, 12, 0, 0),
                title: "1 : Gold Key",
                icon: "https://raw.githubusercontent.com/xsmashx88x/Shift-Codes/refs/heads/gh-pages/blkey50.png"
            },              
            {
                code: "39RTT-3ZR3T-5FJBK-3J3J3-C5CRT",
                expires: new Date(2025, 8, 10, 12, 0, 0),
                title: "1 : Gold Key",
                icon: "https://raw.githubusercontent.com/xsmashx88x/Shift-Codes/refs/heads/gh-pages/blkey50.png"
            },          
            {
                code: "WHWJB-XH3SX-39CZW-H3BBB-BTF55",
                expires: new Date(2025, 8, 10, 12, 0, 0),
                title: "1 : Gold Key",
                icon: "https://raw.githubusercontent.com/xsmashx88x/Shift-Codes/refs/heads/gh-pages/blkey50.png"
            },          
            {
                code: "3SR3J-CS63T-CFB3K-J3JTT-RZ5JR",
                expires: new Date(2025, 8, 10, 12, 0, 0),
                title: "1 : Gold Key",
                icon: "https://raw.githubusercontent.com/xsmashx88x/Shift-Codes/refs/heads/gh-pages/blkey50.png"
            },
            {
                code: "3SRBB-X9RBJ-CRTBW-3BBB3-KJFW6",
                expires: new Date(2025, 8, 10, 12, 0, 0),
                title: "1 : Gold Key",
                icon: "https://raw.githubusercontent.com/xsmashx88x/Shift-Codes/refs/heads/gh-pages/blkey50.png"
            },
            {
                code: "WEWJB-XH3SX-39CZW-H3BBB-BPF55",
                expires: new Date(2025, 8, 20, 12, 0, 0),
                title: '1 : Gold Key - Requires linked My2K Games account - <a href="https://shift.gearboxsoftware.com/associations" target="_blank">Associate Account</a>',
                icon: "https://raw.githubusercontent.com/xsmashx88x/Shift-Codes/refs/heads/gh-pages/blkey50.png"
            }       
        ];

        const PERMANENT_CODES = [
                    {
                code: "Twitch Drops 1 : Watch, Drop, and Roll ECHO-4 Drone Skin cosmetic",
                title: '<a href="https://borderlands.2k.com/twitch-drops/" target="_blank">Read About It Here Or Via Info Below</a><br><br>August 29, 2025 - September 29, 2025<br><br>• Watch any livestream in the Borderlands 4 category on the official <a href="http://twitch.tv/Borderlands" target="_blank">Borderlands 4 Twitch channel</a> or <a href="https://www.twitch.tv/gearboxofficial" target="_blank">Gearbox Twitch channel</a> for 20 minutes and claim the reward',
                icon: "🎁",
                showCopyButton: false,
                showPreviewButton: true,
                imagePreview: "https://raw.githubusercontent.com/xsmashx88x/Shift-Codes/refs/heads/gh-pages/BL4_Echobot_Drop_Wide_textless.png",
                expires: new Date(2025, 8, 29) // ← Add expiration date (Sept 29, 2025)             
            },
                                {
                code: "Twitch Drops 2 : Forsaken Chaos Legendary shotgun",
                title: '<a href="https://borderlands.2k.com/twitch-drops/" target="_blank">Read About It Here Or Via Info Below</a><br><br>September 11, 2025 - September 30, 2025<br><br>• Watch any Borderlands 4 Twitch livestream in the <a href="https://www.twitch.tv/directory/category/borderlands-4" target="_blank">Borderlands 4 category</a> for 2 hours and claim the reward',
                icon: "🎁",
                showCopyButton: false,
                showPreviewButton: true,
                imagePreview: "https://raw.githubusercontent.com/xsmashx88x/Shift-Codes/refs/heads/gh-pages/BL4_ForsakenChaos.png",
                expires: new Date(2025, 8, 30) // ← Add expiration date (Sept 29, 2025)             
            },
                                            {
                code: "Twitch Drops 3 : Midnight Defiance Legendary sniper rifle",
                title: '<a href="https://borderlands.2k.com/twitch-drops/" target="_blank">Read About It Here Or Via Info Below</a><br><br>September 11, 2025 - September 30, 2025<br><br>• Watch any Borderlands 4 Twitch livestream in the <a href="https://www.twitch.tv/directory/category/borderlands-4" target="_blank">Borderlands 4 category</a> hosted by a <a href="https://borderlands.2k.com/borderlands-4/partnered-creators/" target="_blank">partnered creator</a> for 2 hours and claim the reward',
                icon: "🎁",
                showCopyButton: false,
                showPreviewButton: true,
                imagePreview: "https://raw.githubusercontent.com/xsmashx88x/Shift-Codes/refs/heads/gh-pages/BL4_MidnightDefiance.png",
                expires: new Date(2025, 8, 30) // ← Add expiration date (Sept 29, 2025)             
            },
            {
                code: "JS63J-JSCWJ-CFTBW-3TJ3J-WJS5R",
                title: 'Break Free cosmetics pack and Legendary Ripper shield <br><br>• [Break Free] Vault Hunter Skin (for Vex, Rafa, Amon, and Harlowe)<br>• [Firebreak] Legendary Ripper Shield (with minimum level of 25)<br>• [Break Free] ECHO-4 Drone Skin<br>• [Kn0x] ECHO-4 Drone Skin',
                icon: "🎁",
                showCopyButton: true,
                showPreviewButton: true,
                imagePreview: "https://raw.githubusercontent.com/xsmashx88x/Shift-Codes/refs/heads/gh-pages/breakfree.png",
                expires: new Date(2030, 11, 31)
            },
            {
                code: "Butterfinger ECHO-4 Drone Skin",
                title: 'This shift code is can be acquired in two ways<br>Enter the  <a href="https://www.gamewithbutterfinger.com/home?path=Echo4" target="_blank">Butterfinger x Borderlands 4 online sweepstakes. </a> Note that theres no guarantee this will be available after September 2025. (US Only) <br> By purchasing the <a href="https://www.gamestop.com/collectibles/collectors-boxes/products/borderlands-4-echo-4-bundle-gamestop-exclusive/426330.html" target="_blank">GameStop Madrinas Coffee Collectors Box (US Only).</a> <br><i>USE A VPN, then search and use a fake usa number/address gen, if live outside the usa, Its what I did and I  got emailed the key :)</i>',
                icon: "🍫",
                showCopyButton: false,
                showPreviewButton: true,
                imagePreview: "https://raw.githubusercontent.com/xsmashx88x/Shift-Codes/refs/heads/gh-pages/butter%20fingers%20skin.png",
                expires: new Date(2025, 8, 22)              
            }
        ];

        // =======================================================

function openImagePreview(imageUrl) {
    document.getElementById('preview-image').src = imageUrl;
    document.getElementById('image-preview-modal').style.display = 'flex';
}

function closeImagePreview() {
    document.getElementById('image-preview-modal').style.display = 'none';
}

// Close when clicking outside image
document.addEventListener('DOMContentLoaded', function() {
    document.getElementById('image-preview-modal').addEventListener('click', function(e) {
        if (e.target.id === 'image-preview-modal') {
            closeImagePreview();
        }
    });
});

        function toggleInfo(sectionId) {
            const section = document.getElementById(sectionId);
            section.classList.toggle('show');
        }

        function toggleExpired() {
            const expiredSection = document.getElementById('expired-section');
            expiredSection.classList.toggle('show');
        }

        function togglePermanent() {
            const permanentSection = document.getElementById('permanent-section');
            permanentSection.classList.toggle('show');
        }

        function copyToClipboard(text, index, type) {
            navigator.clipboard.writeText(text).then(() => {
                const message = document.getElementById(`copied-${type}-${index}`);
                if (message) {
                    message.style.display = 'inline';
                    setTimeout(() => {
                        message.style.display = 'none';
                    }, 2000);
                }
            }).catch(err => {
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                
                const message = document.getElementById(`copied-${type}-${index}`);
                if (message) {
                    message.style.display = 'inline';
                    setTimeout(() => {
                        message.style.display = 'none';
                    }, 2000);
                }
            });
        }

        function saveRedemptionStatus(code, isRedeemed) {
            try {
                const redeemedCodes = JSON.parse(localStorage.getItem('shiftRedeemedCodes')) || {};
                redeemedCodes[code] = isRedeemed;
                localStorage.setItem('shiftRedeemedCodes', JSON.stringify(redeemedCodes));
            } catch (e) {
                console.error("Error saving to localStorage:", e);
            }
        }

        function getRedemptionStatus(code) {
            try {
                const redeemedCodes = JSON.parse(localStorage.getItem('shiftRedeemedCodes')) || {};
                return redeemedCodes[code] || false;
            } catch (e) {
                console.error("Error reading from localStorage:", e);
                return false;
            }
        }

        function handleRedemptionChange(code, checkbox, container) {
            const isRedeemed = checkbox.checked;
            saveRedemptionStatus(code, isRedeemed);
            
            if (isRedeemed) {
                container.classList.add('redeemed');
            } else {
                container.classList.remove('redeemed');
            }
        }

        function handlePermanentRedemptionChange(code, checkbox, container) {
            const isRedeemed = checkbox.checked;
            saveRedemptionStatus(code, isRedeemed);
            
            if (isRedeemed) {
                container.classList.add('permanent-redeemed');
            } else {
                container.classList.remove('permanent-redeemed');
            }
        }

        function isImageUrl(str) {
            return str.match(/\.(jpeg|jpg|gif|png|svg|webp)$/) !== null;
        }

        function createIconHtml(icon, isPermanent = false) {
            if (!icon) return isPermanent ? '<span class="permanent-key-icon">🔑</span>' : '<span class="key-icon">🔑</span>';
            
            if (isImageUrl(icon)) {
                const className = isPermanent ? 'permanent-custom-icon' : 'custom-icon';
                return `<img src="${icon}" class="${className}" alt="Icon">`;
            } else {
                const className = isPermanent ? 'permanent-key-icon' : 'key-icon';
                return `<span class="${className}">${icon}</span>`;
            }
        }

function organizeCodes() {
    const now = new Date();
    const activeCodes = [];
    const expiredCodes = [];
    
    // Check regular codes
    ALL_CODES_CONFIG.forEach(codeData => {
        if (codeData.expires.getTime() > now.getTime()) {
            activeCodes.push(codeData);
        } else {
            expiredCodes.push(codeData);
        }
    });
    
    // Check permanent codes for expiration and move expired ones
    PERMANENT_CODES.forEach(codeData => {
        if (codeData.expires && codeData.expires.getTime() <= now.getTime()) {
            expiredCodes.push({
                ...codeData,
                wasPermanent: true
            });
        }
    });
    
    return { activeCodes, expiredCodes };
}

function formatDate(date) {
    // Convert to user's local time with clear timezone info
    const userLocalTime = date.toLocaleString('en-US', {
        weekday: 'long',
        year: 'numeric',
        month: 'long',
        day: 'numeric',
        hour: '2-digit',
        minute: '2-digit',
        timeZoneName: 'short'
    });
    
    // Get the user's timezone
    const userTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
    
    return `Expires: ${userLocalTime} (Your Timezone: ${userTimezone})`;
}

function createPermanentCodeBox(codeData, index) {
    const hasCopyButton = codeData.showCopyButton !== false;
    const hasPreviewButton = codeData.showPreviewButton;
    const isRedeemed = getRedemptionStatus(codeData.code);
    const redeemedClass = isRedeemed ? 'permanent-redeemed' : '';
    const iconHtml = createIconHtml(codeData.icon, true);
    
    // Calculate time left if expires exists
    let countdownHtml = '';
    if (codeData.expires) {
        const timeLeft = codeData.expires - new Date();
        if (timeLeft > 0) {
            const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
            const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
            countdownHtml = `<div class="countdown">Time left: ${days}d ${hours}h ${minutes}m</div>`;
        }
    }
    
    let copyButtonHtml = '';
    if (hasCopyButton) {
        copyButtonHtml = `
            <button class="permanent-copy-btn" onclick="copyToClipboard('${codeData.code}', ${index}, 'permanent')">
                COPY
            </button>
            <span id="copied-permanent-${index}" class="permanent-copied-message">✓ Copied!</span>
        `;
    }
    
    let previewButtonHtml = '';
    if (hasPreviewButton) {
        previewButtonHtml = `
            <button class="preview-btn" onclick="openImagePreview('${codeData.imagePreview}')">
                📷 PREVIEW
            </button>
        `;
    }
    
    return `
        <div class="permanent-code-box clearfix ${redeemedClass}" id="permanent-${index}">
            <div class="permanent-code-header">
                ${iconHtml}
                <div class="permanent-code-text">${codeData.code}</div>
            </div>
            <div class="permanent-title-container">${codeData.title}</div>
            ${codeData.expires ? `<div class="expire-date">${formatDate(codeData.expires)}</div>` : ''}
            ${countdownHtml}
            <div class="permanent-code-footer">
                <div class="redeem-checkbox">
                    <input type="checkbox" id="permanent-redeemed-${index}" ${isRedeemed ? 'checked' : ''} 
                        onchange="handlePermanentRedemptionChange('${codeData.code}', this, document.getElementById('permanent-${index}'))">
                    <label for="permanent-redeemed-${index}">?redeemed</label>
                </div>
                ${copyButtonHtml}
                ${previewButtonHtml}
            </div>
        </div>
    `;
}

function createActiveCodeBox(codeData, index) {
    const hasCopyButton = codeData.showCopyButton !== false;
    const hasPreviewButton = codeData.showPreviewButton;
    const timeLeft = codeData.expires.getTime() - new Date().getTime();
    const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
    const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
    const isRedeemed = getRedemptionStatus(codeData.code);
    const redeemedClass = isRedeemed ? 'redeemed' : '';
    const iconHtml = createIconHtml(codeData.icon, false);
    
    let copyButtonHtml = '';
    if (hasCopyButton) {
        copyButtonHtml = `
            <button class="small-copy-btn" onclick="copyToClipboard('${codeData.code}', ${index}, 'active')">
                COPY
            </button>
            <span id="copied-active-${index}" class="copied-message">✓ Copied!</span>
        `;
    }
    
    return `
        <div class="code-box ${redeemedClass}" id="active-${index}">
            <div class="code-header">
                ${iconHtml}
                <div class="title-container">${codeData.title}</div>
            </div>
            <div class="code-text">${codeData.code}</div>
            <div class="expire-date">${formatDate(codeData.expires)}</div>
            <div class="countdown">Time left: ${days}d ${hours}h ${minutes}m</div>
            <div class="code-footer">
                <div class="redeem-checkbox">
                    <input type="checkbox" id="redeemed-${index}" ${isRedeemed ? 'checked' : ''} 
                        onchange="handleRedemptionChange('${codeData.code}', this, document.getElementById('active-${index}'))">
                    <label for="redeemed-${index}">?redeemed</label>
                </div>
                ${copyButtonHtml}
            </div>
        </div>
    `;
}

function createExpiredCodeBox(codeData, index) {
    const hasPreviewButton = codeData.showPreviewButton;
    const isRedeemed = getRedemptionStatus(codeData.code);
    const redeemedClass = isRedeemed ? 'redeemed' : '';
    const iconHtml = createIconHtml(codeData.icon, false);
    
    let previewButtonHtml = '';
    if (hasPreviewButton) {
        previewButtonHtml = `
            <button class="preview-btn" onclick="openImagePreview('${codeData.imagePreview}')">
                📷 PREVIEW
            </button>
        `;
    }
    
    return `
        <div class="expired-code-box ${redeemedClass}" id="expired-${index}">
            <div class="code-header">
                ${iconHtml}
                <div class="title-container">${codeData.title}</div>
            </div>
            <div class="code-text">${codeData.code}</div>
            <div class="expire-date">Expired: ${formatDate(codeData.expires)}</div>
            <div class="code-footer">
                <div class="redeem-checkbox">
                    <input type="checkbox" id="expired-redeemed-${index}" ${isRedeemed ? 'checked' : ''} 
                        onchange="handleRedemptionChange('${codeData.code}', this, document.getElementById('expired-${index}'))">
                    <label for="expired-redeemed-${index}">?redeemed</label>
                </div>
                <button class="small-copy-btn" onclick="copyToClipboard('${codeData.code}', ${index}, 'expired')">
                    COPY
                </button>
                ${previewButtonHtml}
                <span id="copied-expired-${index}" class="copied-message">✓ Copied!</span>
            </div>
            <div class="expired-text">❌ EXPIRED</div>
        </div>
    `;
}

function updateCountdowns() {
    const now = new Date();
    
    // Update active codes
    const activeContainers = document.querySelectorAll('#active-codes-container .code-box');
    activeContainers.forEach((container, index) => {
        const countdownElement = container.querySelector('.countdown');
        const codeTextElement = container.querySelector('.code-text');
        
        if (!countdownElement || !codeTextElement) return;
        
        // Find the correct code data by matching the actual code text
        const codeText = codeTextElement.textContent;
        const codeData = ALL_CODES_CONFIG.find(code => code.code === codeText);
        
        if (!codeData) return;
        
        const expireDate = codeData.expires;
        const timeLeft = expireDate.getTime() - now.getTime();
        
        if (timeLeft <= 0) {
            countdownElement.textContent = 'EXPIRED';
            countdownElement.style.color = '#ff4444';
        } else {
            const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
            const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);
            
            countdownElement.textContent = `Time left: ${days}d ${hours}h ${minutes}m ${seconds}s`;
            countdownElement.style.color = '#ff7c00';
        }
    });
    
    // Update permanent codes countdowns
    const permanentContainers = document.querySelectorAll('#permanent-codes-container .permanent-code-box');
    permanentContainers.forEach((container, index) => {
        const countdownElement = container.querySelector('.countdown');
        const codeTextElement = container.querySelector('.permanent-code-text');
        
        if (!countdownElement || !codeTextElement) return;
        
        // Find the correct code data by matching the actual code text
        const codeText = codeTextElement.textContent;
        const codeData = PERMANENT_CODES.find(code => code.code === codeText);
        
        if (!codeData || !codeData.expires) return;
        
        const expireDate = codeData.expires;
        const timeLeft = expireDate.getTime() - now.getTime();
        
        if (timeLeft <= 0) {
            countdownElement.textContent = 'EXPIRED';
            countdownElement.style.color = '#ff4444';
        } else {
            const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
            const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);
            
            countdownElement.textContent = `Time left: ${days}d ${hours}h ${minutes}m ${seconds}s`;
            countdownElement.style.color = '#ff7c00';
        }
    });
}

// ==================== AUTO CACHE DETECTION ====================
function getCodesHash() {
    // Create a unique fingerprint of current active codes
    const activeCodesData = ALL_CODES_CONFIG.map(code => code.code + code.expires.getTime()).join('|');
    return btoa(activeCodesData).substring(0, 32); // Short hash
}

function checkCodesVersion() {
    const currentHash = getCodesHash();
    const savedHash = localStorage.getItem('shiftCodesHash');
    
    if (savedHash !== currentHash) {
        // Codes have changed - update and refresh
        localStorage.setItem('shiftCodesHash', currentHash);
        console.log('Codes updated, refreshing page...');
        location.reload();
        return true; // Page will refresh
    }
    
    return false; // No changes, continue normally
}

function initializePage() {
    // Auto-detect code changes and refresh if needed
    if (checkCodesVersion()) return;
    const permanentContainer = document.getElementById('permanent-codes-container');
    const activeContainer = document.getElementById('active-codes-container');
    const expiredContainer = document.getElementById('expired-codes-container');
    
    const { activeCodes, expiredCodes } = organizeCodes();
    const now = new Date();
    
    // Only show permanent codes that aren't expired
    const validPermanentCodes = PERMANENT_CODES.filter(codeData => 
        !codeData.expires || codeData.expires > now
    );
    
    if (validPermanentCodes.length > 0) {
        validPermanentCodes.forEach((codeData, index) => {
            permanentContainer.innerHTML += createPermanentCodeBox(codeData, index);
        });
    } else {
        permanentContainer.innerHTML = '<div class="no-codes">No permanent codes available at this time.</div>';
    }
    
    // Show active codes
    if (activeCodes.length > 0) {
        activeCodes.forEach((codeData, index) => {
            activeContainer.innerHTML += createActiveCodeBox(codeData, index);
        });
    } else {
        activeContainer.innerHTML = '<div class="no-codes">No active codes at the moment. Check back later, Vault Hunter!</div>';
    }
    
    // Show expired codes (including expired permanent ones)
    if (expiredCodes.length > 0) {
        expiredCodes.forEach((codeData, index) => {
            expiredContainer.innerHTML += createExpiredCodeBox(codeData, index);
        });
    } else {
        expiredContainer.innerHTML = '<div class="no-codes">No expired codes to display.</div>';
    }
    
    updateCountdowns();
    setInterval(updateCountdowns, 1000);
}

document.addEventListener('DOMContentLoaded', initializePage);
    </script>
</body>
</html>
